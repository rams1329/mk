<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KardioScreen</title>
    <meta name="description" content="Portable ECG Application">
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">  
  </head>

  <body class="background" id="backgroundId">
<header class="main-header">
      <div class="logo">
        <img src="logo.png" alt="Logo">
    </div>
      <h1 class="header-title">KardioScreen for Windows</h1>
        <svg  class="device-disconnected" height="15" width="15" id="deviceStatus">
          <circle cx="5" cy="5" r="4" fill="transparent" />
        </svg>
      </header>
      <!--<div class="plottingSliderSwitchClass" id="plottingSliderSwitchId">
        <label class="sliderLableStyle" id="withOutGraphLable" for="graphOption">Without Plotting</label>
        <label class="switch">
          <input type="checkbox" id="graphOption" onchange="toggleChangeForGraph(event)">
          <span class="slider round"></span>
        </label>
        <label class="sliderLableStyle" id="withGraphLable" for="graphOption">With Plotting</label>
      </div>

      <div class="leadClass">
        <label class="leadStyle" for="leadOption">6L</label>
        <label class="switch">
          <input type="checkbox" id="leadOption" onchange="toggleChange(event)">
          <span class="slider round"></span>
        </label>
        <label class="leadStyle" for="leadOption">12L</label>
      </div>   -->
  </header>
    <div class="container-xxl gapPadding">
    
      <div class="row" id="connectionBlock">
        <div id="connectionDiv">CLICK HEART &#x2764;</div>
      </div>

      <div class="row" id="patientDetailsFormsBlock">

        <form class="main" name="patientDetailsForm" onsubmit="validateForm(); return false;" id="patientDetailsForm">
          <div class="patientinfo">
              <div class="section-title">
                <h6 class="title">PATIENT</h6></div>
                <div class="field-row1">
            <div class="field">
              <!--<label for="patientId">Patient ID</label>-->
              <input type="text"  id="patientId" name="patientId" placeholder="Patient ID">
            </div>
            <div class="field">
              <!--<label for="fullName">Full Name</label><span class="requiredField">*</span>-->
              <input type="text"  id="fullName" name="fullName" placeholder="Full Name" required value="MP">
            </div>
            <div class="field">
              <!--<label for="age">Age</label><span class="requiredField">*</span>-->
              <input type="number"  id="age" name="age" placeholder="Age" required value="23">
            </div>
            <div class="field">
              <label>Gender</label><span class="requiredField">*</span>

                  <input type="radio" id="Male" name="gender" value="Male" required checked>
                  <label for="Male">ðŸš¹</label>
                
                  <input type="radio" id="Female" name="gender" value="Female">
                  <label for="Female">ðŸšº</label>
              
                  <input type="radio" id="Others" name="gender" value="Others">
                  <label for="Others">Others</label>
                        
            </div>
            </div>

            <div class="field-row2">
            <div class="field">
              <!--<label for="date">DOB</label>-->
              <input  type="date" id="date" name="date">
            </div>
        
            <div class="field">
              <!--<label for="mobile">Mobile</label><span class="requiredField">*</span>-->
              <input type="number"  id="mobile" name="mobile" placeholder="Mobile" minlength="10" maxlength="13" 
                     oninput="checkMobileNumber(this);" required value="6383810844">
            </div>

            <div class="field address">
              <!--<label for="address">Address</label>-->
              <input type="text"  id="address" name="address" placeholder="Address">
            </div>
          </div>
          </div>

          <div class="vitals">
          <div class="section-title">
            <h6 class="title">VITALS</h6></div>
          <div class="field-row1">
            <div class="field">
              <!--<label for="Weight">Weight</label>-->
              <input type="number"  id="Weight" name="Weight" placeholder="Weight(kg)">
            </div>
            <div class="field">
              <!--<label for="Height">Height</label>-->
              <input type="number"  id="Height" name="Height" placeholder="Height(cm)">
            </div>
            <div class="field BP">
              <!--<label for="systolic">Systolic</label>-->
              <input type="number"  id="systolic" name="systolic" placeholder="Systolic(mmHg)(60-200)" oninput="checkSystolic(this);">
           <span>/</span>
              <!--<label for="disastolic">Disastolic</label>-->
              <input type="number"  id="disastolic" name="disastolic" placeholder="Disastolic(mmHg)(30-110)" oninput="checkDisastolic(this);">
            </div>
            <div class="field">
              <!--<label for="RBS">RBS</label>-->
              <input type="number"  id="RBS" name="RBS" placeholder="RBS(mg/dl)(20-400)" oninput="checkRBS(this);">
            </div>
            </div>

            <div class="field-row2">
            <div class="field">
              <!--<label for="SPO2">SPO2</label>-->
              <input type="number"  id="SPO2" name="SPO2" placeholder="SPO2(%)(30-100)" oninput="checkSPO2(this);">
            </div>
            <div class="field">
              <!--<label for="Pulse">Pulse</label>-->
              <input type="number" id="Pulse" name="Pulse" placeholder="Pulse(/min)(20-300)" oninput="checkPulse(this);">
            </div>
            <div class="field">
              <!--<label for="respiratoryRate">Respiratory Rate</label>-->
              <input type="number"  id="respiratoryRate" name="respiratoryRate" placeholder="Respiratory Rate(/min)(5-50)" oninput="checkRespiratoryRate(this);">
            </div>
            <div class="field">
              <!--<label for="Temperature">Temperature</label>-->
              <input type="number"  id="Temperature" name="Temperature" placeholder="Temperature(Â°F)(60-130)" oninput="checkTemperature(this);">
            </div>
          </div>
        </div>

          <div class="Symptoms">
            <div class="section-title">
              <h6 class="title">SYMPTOMS</h6></div>
            <div class="field-row1">
              
                  <div class="field">
                    <input type="checkbox" id="Giddiness" name="symptoms" value="Giddiness">
                    <label for="Giddiness"> ChestPain</label>
                  </div>
              
                  <div class="field">
                    <input type="checkbox" id="Syncope" name="symptoms" value="Syncope">
                    <label for="Syncope"> Syncope</label>
                  </div>
                
                  <div class="field">
                    <input type="checkbox" id="Palpitations" name="symptoms" value="Palpitations">
                    <label for="Palpitations"> Palpitations</label>
                  </div>
                
                  <div class="field">
                    <input type="checkbox" id="ShortnessOfBreath" name="symptoms" value="Shortness of Breath">
                    <label for="ShortnessOfBreath"> Shortness of Breath</label>
                  </div>
                
              </div>


              <div class="field-row2">
                
                  <div class="field">
                    <input type="checkbox" id="Anxiety/Restlessness" name="symptoms" value="Anxiety/Restlessness">
                    <label for="Anxiety/Restlessness">Anxiety/Restlessness</label>
                  </div>
                
                  <div class="field">
                    <input type="checkbox" id="Frequent Sweating" name="symptoms" value="Frequent Sweating">
                    <label for="Frequent Sweating">Frequent Sweating</label>
                  </div>
                
                  <div class="field extra">
                    <input type="text" id="ShortnessOfBreath" name="symptoms" value="others">
                  </div>
                
              </div>

            </div>

          
           <!--i have changed-->
           <div class="footer">
          <div class="plottingSliderSwitchClass" id="plottingSliderSwitchId">
            <label class="sliderLableStyle" id="withOutGraphLable" for="graphOption">Without Plotting</label>
            <label class="switch">
              <input type="checkbox" id="graphOption" onchange="toggleChangeForGraph(event)">
              <span class="slider round"></span>
            </label>
            <label class="sliderLableStyle" id="withGraphLable" for="graphOption">With Plotting</label>
          </div>
    
          <div class="leadClass">
            <label class="leadStyle" for="leadOption">6L</label>
            <label class="switch">
              <input type="checkbox" id="leadOption" onchange="toggleChange(event)">
              <span class="slider round"></span>
            </label>
            <label class="leadStyle" for="leadOption">12L</label>
          </div>
<!--i have changed-->
          <button class="btn btn-primary button" type="submit" style="z-index: 1;">Start ECG</button>
        </div>
        </form>

      </div>

      <div class="dynamicIslandContainer">
        <div class="row" id="infoBlockWithOutGraph" style="    max-width: 100% !important;
        width: 100%;">
          <div class="infoContainer">
            <div class="card">
              <div class="card-body">
                <div class="row" id="progressBarRow">
                  <div class="progress" style="height: 5px;">
                    <div class="progress-bar progress-bar-striped progress-bar" id="progressBarForWithoutGraphId" aria-valuemin="0" aria-valuemax="100" style="width: 0%;display: none;"></div>
                  </div>
                </div>
                <br>
                <div class="row" id="hearRateRow">
                  <div class="col d-flex justify-content-center" id="hearRateContainerGroup">
                    <div class="rounded-div" id="heartRateContainer">
                      <div class="centered-text" id="heartRateValueId"></div>
                    </div>
                  </div>
                </div>
                <br>
                <div class="row" id="DisplayInfoRow">
                  <div class="col-4">
                    <div class="leadInfoContainer" id="leadInfoContainerId">
                      <span id="leadContainerMessageId">Checking Lead Status ... </span>
                    </div>
                  </div>
                  <div class="col-4">
                    <div class="row">
                      <div class="col">
                        <div class="leadInfoContainer" id="leadSignalRateId">
                          <i class="bi bi-reception-4 serviceFont default"></i>
                          <span id="leadSignalRateMessageId"></span>
                        </div>
                      </div>
                      <div class="col">
                        <div class="leadInfoContainer">
                          <i class="bi bi-battery-half">
                            <span class="default" id="batteryPercentage2"> 
                            </span></i></div> 
                      </div>
                    </div>
                  </div>
                  
                  <div class="col-4">
                    <div class="row">
                      <div class="col">
                        <button type="button" class="btn btn-primary" id="reRecordForWithoutPlottingId" style="width: 100%;">
                          <i class="bi bi-arrow-clockwise">RERECORD</i>
                        </button>
                      </div>
                      <div class="col">
                        <button type="button" class="btn btn-primary" id="addNewPatient" style="width: 100%;">
                          <i class="bi bi-person-fill-add pointer">  NEW PATIENT</i>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="row" id="plotBlock">
        <div style="flex: auto;overflow: hidden">
          <div id="scichart-root" style="width: 70%;"></div>
          <script src="https://cdn.jsdelivr.net/npm/scichart@3.1.329/_wasm/scichart.browser.js" crossorigin="anonymous"></script>
          <!--version 3 release number - 3.1.329 old version number is 2.2.2417 -->
        </div>
      </div>

      <br>
      
      <div style="text-align: -webkit-center;"> 
        <div class="row" id="progressBlock">
          <div class="progress" style="height: 5px;">
            <div class="progress-bar progress-bar-striped progress-bar" id="progressBar" aria-valuemin="0" aria-valuemax="100" style="width: 100%;"></div>
          </div>
        </div>
        <div class="row" id="serviceBlock">
          <div class="row"  style="align-items: center;height: 55px;">
            <div class="col-2 col-sm-2 col-md-1 col-lg-2 col-xl-2 rightBorder"><i class="bi bi-battery-half"><span class="default" id="batteryPercentage"></span></i></div>
            <div class="col-2 col-sm-2 col-md-2 col-lg-2 col-xl-2 rightBorder">
              <span class="footerPadding default" id="selectedLeadIndicator"></span>
            </div>
            <div class="col-3 col-sm-3 col-md-3 col-lg-3 col-xl-3 " style="z-index: 999;">
              <div class="row">
                <div class="recordButtonSVG">
                  <svg fill="#ff0000" width="80px" height="50px" viewBox="0 0 1920 1920" id="recordButton" class="hideButton pointer">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier"> 
                      <path d="M960 0c529.36 0 960 430.645 960 960 0 529.36-430.64 960-960 960-529.355 0-960-430.64-960-960C0 430.645 430.645 0 960 0Zm0 112.941c-467.125 0-847.059 379.934-847.059 847.059 0 467.12 379.934 847.06 847.059 847.06 467.12 0 847.06-379.94 847.06-847.06 0-467.125-379.94-847.059-847.06-847.059Zm0 313.726c294.55 0 533.33 238.781 533.33 533.333 0 294.55-238.78 533.33-533.33 533.33-294.552 0-533.333-238.78-533.333-533.33 0-294.552 238.781-533.333 533.333-533.333Z" fill-rule="evenodd"></path> 
                    </g>
                  </svg>
                </div>
                
                <div class="closeButtonSVG">
                  <svg fill="#ff0000" viewBox="0 0 32 32" width="50px" height="50px" id="closeButon" class="hideButton pointer">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier"> 
                      <path d="M16 0c-8.836 0-16 7.163-16 16s7.163 16 16 16c8.837 0 16-7.163 16-16s-7.163-16-16-16zM16 30.032c-7.72 0-14-6.312-14-14.032s6.28-14 14-14 14 6.28 14 14-6.28 14.032-14 14.032zM21.657 10.344c-0.39-0.39-1.023-0.39-1.414 0l-4.242 4.242-4.242-4.242c-0.39-0.39-1.024-0.39-1.415 0s-0.39 1.024 0 1.414l4.242 4.242-4.242 4.242c-0.39 0.39-0.39 1.024 0 1.414s1.024 0.39 1.415 0l4.242-4.242 4.242 4.242c0.39 0.39 1.023 0.39 1.414 0s0.39-1.024 0-1.414l-4.242-4.242 4.242-4.242c0.391-0.391 0.391-1.024 0-1.414z"></path> 
                    </g>
                  </svg>
                </div>

                <div class="playButtonSVG">
                  <svg fill="#10660a" height="60px" width="60px" version="1.1" id="playButton" viewBox="-51.2 -51.2 614.40 614.40" xml:space="preserve" stroke="#10660a" transform="matrix(1, 0, 0, 1, 0, 0)rotate(0)" class="hideButton pointer">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier"> 
                      <g>
                       <g> <path d="M256,0C114.511,0,0,114.497,0,256c0,141.49,114.495,256,256,256c141.49,0,256-114.497,256-256C512,114.51,397.503,0,256,0 z M348.238,284.418l-120.294,69.507c-10.148,5.864-22.661,5.874-32.826,0.009c-10.158-5.862-16.415-16.699-16.415-28.426V186.493 c0-11.728,6.258-22.564,16.415-28.426c5.076-2.93,10.741-4.395,16.406-4.395c5.67,0,11.341,1.468,16.42,4.402l120.295,69.507 c10.149,5.864,16.4,16.696,16.4,28.418C364.639,267.722,358.387,278.553,348.238,284.418z"></path></g>
                      </g>
                   </g>
                  </svg>
                </div>

                <div class="reRecordSVG">
                  <svg viewBox="0 0 24 24" width="80px" height="60px" fill="none" transform="rotate(270)" id="reRecordButton" class="hideButton pointer">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier"> 
                      <path d="M15.7733 13.3292C15.4851 14.1471 14.9388 14.8493 14.2169 15.3298C13.4949 15.8103 12.6363 16.0432 11.7704 15.9934C10.9046 15.9436 10.0784 15.6137 9.41631 15.0535C8.75424 14.4933 8.29217 13.7332 8.09972 12.8876C7.90728 12.042 7.99489 11.1567 8.34934 10.3652C8.7038 9.57374 9.3059 8.91887 10.0649 8.4993C10.824 8.07974 11.6988 7.91819 12.5576 8.03902C13.9223 8.23101 14.9173 9.23345 16 10M16 10V7M16 10H13M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="#ff0000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> 
                  </g>
                </svg>
                </div>
              </div>
            </div>
            <div class="col-3 col-sm-3 col-md-4 col-lg-3 col-xl-3">
              <div class="row" id="infomationBlock">
                <i class="bi bi-suit-heart-fill serviceFont default" style="color: red;width: 16px;height: 16px;"><span id="heartBeatText" style="color: black;"></span></i>       
                <i class="bi bi-reception-4 serviceFont default"><span id="signalStrength"></span></i>
              </div>
            </div>
            <div class="col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1  leftBorder">
              <i class="bi bi-person-fill-add pointer" id="addNewPatient" style="float: center;font-size: 20px;"></i>
            </div>
            <div class="col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1  leftBorder">
              <div class="rightFooter h-100" style="float: center;font-size: 20px;">
                <i class="bi bi-power pointer" id="disconnectButton" data-toggle="modal" data-target="#disconnectDeviceModal"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
      
    </div> 

    <footer class="footerClass">
      <span id="versionNumber">v2.2.0-beta</span>
    </footer>
    
    <div class="toasterContainer">
      <div class="toast-container position-fixed top-0 end-0 p-3">
        <div id="failureToasterDivStatic" class="toast text-bg toast-bg-danger" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="false">
           <div class="d-flex">
              <br><div class="toast-body" id="toasterContentStatic" style="color: white;font-size: 20px;font-weight: bold;"></div><br>
              <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
          </div>
      </div>
      <div class="toast-container position-fixed top-0 end-0 p-3">
        <div id="failureToasterDiv" class="toast text-bg toast-bg-danger" role="alert" aria-live="assertive" aria-atomic="true">
           <div class="d-flex">
              <div class="toast-body" id="failureToasterContenet" style="color: white;font-size: 20px;font-weight: bold;"></div>
              <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
          </div>
      </div>
      <div class="toast-container position-fixed top-0 end-0 p-3">
        <div id="successToasterDiv" class="toast text-bg toast-bg-success" role="alert" aria-live="assertive" aria-atomic="true">
           <div class="d-flex">
              <div class="toast-body" id="successToasterContenet" style="font-size: 20px;font-weight: bold;"></div>
              <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
          </div>
      </div>
    </div>
    
    <div class="text-center spinner-container" id="spinner">
      <div class="spinner-border spinner" role="status">
      </div>
    </div>

    <div class="modal fade" id="disconnectDeviceModal" tabindex="-1" role="dialog" aria-labelledby="disconnectDeviceModalTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-body" id="modelText">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" id="closeDisconnectModel">Close</button>
            <button type="button" class="btn btn-primary" id="disconnectConfrim">Yes</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade modal-fullscreen" id="pdfModalLabel" tabindex="-1" role="dialog" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <button type="button" class="close btn-close-custome" id="pdfNo" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <div class="modal-body">
              <div class="row" style="text-align: -webkit-center;">
                <div id="pdfContainer"></div>
              </div>
            </div>
          </div>
      </div>
    </div>

    <div id="pdfContainer"></div>

    <script src="constants.js?version=1.0"></script>
    <script src="SciChart.js?version=1.0"></script>
    <script src="modelDTO.js?version=1.0"></script>
    <script src="app.js?version=1.0"></script>
    <script src="KardioScreen.js?version=1.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.5.0/sockjs.js" integrity="sha512-lyIq9fRcCeSCXhp41XC/250UBmypAHV8KW+AhLcSEIksWHBfhzub6XXwDe67wTpOG8zrO2NAU/TYmEaCW+aQSg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js" integrity="sha512-iKDtgDyTHjAitUDdLljGhenhPwrbBfqTKWO1mkhSFH3A7blITC9MhYon6SjnMhp4o0rADGw9yAC6EW4t5a4K3g==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js"></script>
  
  </body>
  
  </html>
